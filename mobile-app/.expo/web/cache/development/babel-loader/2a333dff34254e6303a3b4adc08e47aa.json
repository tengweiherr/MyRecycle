{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { NativeBaseProvider, Box, Button, ScrollView, Stack, Center, Accordion, Text, Divider, List, Image, PresenceTransition, Pressable, HStack, VStack, Heading, Fab, Icon, Spinner, Skeleton, FlatList } from 'native-base';\nimport { useNavigation } from '@react-navigation/native';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { AntDesign, Ionicons } from \"@expo/vector-icons\";\nimport { Video } from 'expo-av';\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport var EWaste = function EWaste() {\n  var Navigation = useNavigation();\n\n  var _useState = useState({\n    id: 0,\n    material: \"\",\n    time: \"\",\n    guide: null,\n    category: \"\",\n    recyclable: [],\n    non_recyclable: [],\n    conversion_rate: 0,\n    recyclable_media: [],\n    non_recyclable_media: []\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      material = _useState4[0],\n      setMaterial = _useState4[1];\n\n  var _useState5 = useState(\"Recyclable\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isRecyclable = _useState6[0],\n      setIsRecyclable = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      imageModalVisible = _useState8[0],\n      setImageModalVisible = _useState8[1];\n\n  var _useState9 = useState({}),\n      _useState10 = _slicedToArray(_useState9, 2),\n      targetItem = _useState10[0],\n      setTargetItem = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      modalVisible = _useState12[0],\n      setModalVisible = _useState12[1];\n\n  var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      isLoading = _useState14[0],\n      setIsLoading = _useState14[1];\n\n  var _useState15 = useState(),\n      _useState16 = _slicedToArray(_useState15, 2),\n      error = _useState16[0],\n      setError = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      guide = _useState18[0],\n      setGuide = _useState18[1];\n\n  var video = useRef(null);\n\n  var _useState19 = useState({}),\n      _useState20 = _slicedToArray(_useState19, 2),\n      status = _useState20[0],\n      setStatus = _useState20[1];\n\n  useEffect(function () {\n    var ac = new AbortController();\n    setIsLoading(true);\n    fetch(\"http://192.168.100.31:3000/\" + 'material/category/E-Waste', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (results) {\n      setData(results[0]);\n      setIsLoading(false);\n    }).catch(function (err) {\n      setIsLoading(false);\n      setError(err);\n    });\n    return function () {\n      return ac.abort();\n    };\n  }, []);\n  useEffect(function () {\n    var ac = new AbortController();\n    setIsLoading(true);\n    fetch(\"http://192.168.100.31:3000/\" + 'guide', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (results) {\n      setGuide(results);\n      setIsLoading(false);\n    }).catch(function (err) {\n      setIsLoading(false);\n      setError(err);\n    });\n    return function () {\n      return ac.abort();\n    };\n  }, []);\n\n  var _renderMaterials = function _renderMaterials() {\n    return data.map(function (item, index) {\n      return _jsx(TouchableOpacity, {\n        style: material == item.material ? styles.chipsItemActive : styles.chipsItem,\n        onPress: function onPress() {\n          return setMaterial(item.material);\n        },\n        children: _jsx(Text, {\n          style: material == item.material ? {\n            color: \"white\"\n          } : \"\",\n          children: item.material\n        })\n      }, \"material-\" + index);\n    });\n  };\n\n  var _renderRecyclables = function _renderRecyclables() {\n    console.log(data);\n    var itemArray = [];\n    var itemMediaArray = [];\n\n    if (isRecyclable === \"Recyclable\") {\n      itemArray = data.recyclable;\n      itemMediaArray = data.recyclable_media;\n    } else {\n      itemArray = data.non_recyclable;\n      itemMediaArray = data.non_recyclable_media;\n    }\n\n    return itemArray.map(function (item, index) {\n      return _jsx(TouchableOpacity, {\n        style: {\n          width: \"100%\"\n        },\n        onPress: function onPress() {\n          setTargetItem({\n            item: item,\n            image: itemMediaArray[index]\n          });\n          setImageModalVisible(true);\n        },\n        children: _jsxs(HStack, {\n          backgroundColor: \"white\",\n          width: \"100%\",\n          rounded: \"lg\",\n          p: \"3\",\n          px: \"5\",\n          alignItems: \"center\",\n          space: 4,\n          style: styles.shadowProp,\n          children: [_jsx(Image, {\n            source: {\n              uri: \"http://192.168.100.31:3000/\" + \"static/materials/\" + itemMediaArray[index]\n            },\n            alt: \"materials image\",\n            style: {\n              height: 60,\n              width: 60,\n              borderRadius: 50\n            },\n            resizeMode: \"cover\"\n          }), _jsx(Text, {\n            width: \"80%\",\n            children: item\n          })]\n        })\n      }, \"material-\" + index);\n    });\n  };\n\n  var _renderGuide = function _renderGuide() {\n    return guide.map(function (item, index) {\n      return _jsxs(HStack, {\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        width: \"full\",\n        backgroundColor: \"white\",\n        p: \"4\",\n        rounded: \"20\",\n        space: 4,\n        children: [_jsxs(Box, {\n          backgroundColor: \"gray.100\",\n          borderRadius: \"100\",\n          size: \"20\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          children: [item.id === 1 && _jsx(Image, {\n            source: require(\"../../public/assets/recycle-steps/step_1.png\"),\n            alt: \"action-picture\",\n            size: \"20\"\n          }), item.id === 2 && _jsx(Image, {\n            source: require(\"../../public/assets/recycle-steps/step_2.png\"),\n            alt: \"action-picture\",\n            size: \"20\"\n          }), item.id === 3 && _jsx(Image, {\n            source: require(\"../../public/assets/recycle-steps/step_3.png\"),\n            alt: \"action-picture\",\n            size: \"20\"\n          }), item.id === 4 && _jsx(Image, {\n            source: require(\"../../public/assets/recycle-steps/step_4.png\"),\n            alt: \"action-picture\",\n            size: \"20\"\n          }), item.id === 5 && _jsx(Image, {\n            source: require(\"../../public/assets/recycle-steps/step_5.png\"),\n            alt: \"action-picture\",\n            size: \"20\"\n          })]\n        }), _jsx(VStack, {\n          w: \"4/6\",\n          space: 1,\n          children: _jsx(Text, {\n            fontSize: \"sm\",\n            children: item.content\n          })\n        })]\n      }, \"guide-\" + index);\n    });\n  };\n\n  return _jsx(ImageBackground, {\n    source: require(\"../../public/assets/bg-1-100.jpg\"),\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    },\n    children: isLoading ? _jsx(Center, {\n      w: \"full\",\n      h: \"full\",\n      children: _jsx(Spinner, {\n        size: \"lg\",\n        color: \"emerald.500\"\n      })\n    }) : _jsx(_Fragment, {\n      children: _jsxs(VStack, {\n        w: \"full\",\n        h: \"full\",\n        p: \"3\",\n        children: [_jsx(Modal, {\n          animated: true,\n          animationType: \"slide\",\n          visible: modalVisible,\n          transparent: true,\n          onRequestClose: function onRequestClose() {\n            setModalVisible(!modalVisible);\n          },\n          children: _jsx(View, {\n            style: [styles.overlay, {\n              height: 660\n            }],\n            children: _jsx(Animated.View, {\n              style: [styles.container, {\n                height: 660\n              }],\n              children: _jsx(VStack, {\n                space: 3,\n                style: {\n                  width: \"100%\",\n                  height: \"100%\",\n                  paddingHorizontal: 32,\n                  paddingVertical: 20\n                },\n                children: _jsxs(ScrollView, {\n                  children: [data.guide && _jsxs(_Fragment, {\n                    children: [_jsx(Heading, {\n                      size: \"md\",\n                      textAlign: \"center\",\n                      children: \"Special Note\"\n                    }), _jsx(VStack, {\n                      width: \"80\",\n                      p: \"5\",\n                      my: \"4\",\n                      space: 3,\n                      backgroundColor: \"#ffef42\",\n                      rounded: \"2xl\",\n                      children: _jsx(Text, {\n                        children: data.guide\n                      })\n                    })]\n                  }), _jsx(Heading, {\n                    size: \"md\",\n                    textAlign: \"center\",\n                    children: \"Steps to recycle\"\n                  }), _jsx(VStack, {\n                    width: \"80\",\n                    py: \"5\",\n                    space: 3,\n                    children: guide && _renderGuide()\n                  }), _jsxs(Text, {\n                    textAlign: \"center\",\n                    bold: true,\n                    py: \"2\",\n                    children: [\"How to Recycle Correctly \", _jsx(Text, {\n                      fontStyle: \"italic\",\n                      fontWeight: \"400\",\n                      children: \"by WWF UK\"\n                    })]\n                  }), _jsx(Video, {\n                    ref: video,\n                    style: {\n                      alignSelf: 'center',\n                      width: 300,\n                      height: 169,\n                      marginBottom: 16\n                    },\n                    source: require(\"../../public/assets/WWF_recycle_tips.mp4\"),\n                    useNativeControls: true,\n                    resizeMode: \"contain\",\n                    isLooping: true,\n                    onPlaybackStatusUpdate: function onPlaybackStatusUpdate(status) {\n                      return setStatus(function () {\n                        return status;\n                      });\n                    }\n                  }), _jsxs(Text, {\n                    textAlign: \"center\",\n                    mb: \"5\",\n                    w: \"xs\",\n                    children: [\"To learn more, please visit \", _jsx(Text, {\n                      style: {\n                        color: \"blue\",\n                        fontStyle: \"italic\"\n                      },\n                      onPress: function onPress() {\n                        return Linking.openURL('https://jpspn.kpkt.gov.my');\n                      },\n                      children: \"JPSPN website\"\n                    }), \" for the latest information.\"]\n                  }), _jsx(Button, {\n                    bordered: true,\n                    block: true,\n                    style: {\n                      borderRadius: 20,\n                      backgroundColor: \"transparent\",\n                      borderColor: \"#1FAA8F\",\n                      borderWidth: 2\n                    },\n                    onPress: function onPress() {\n                      return setModalVisible(false);\n                    },\n                    children: _jsx(Text, {\n                      bold: true,\n                      children: \"Close\"\n                    })\n                  })]\n                })\n              })\n            })\n          })\n        }), _jsx(Modal, {\n          animated: true,\n          animationType: \"fade\",\n          visible: imageModalVisible,\n          transparent: true,\n          onRequestClose: function onRequestClose() {\n            setImageModalVisible(!imageModalVisible);\n          },\n          children: _jsx(Center, {\n            w: \"full\",\n            h: \"full\",\n            style: {\n              backgroundColor: \"rgba(0,0,0,0.4)\"\n            },\n            children: _jsxs(VStack, {\n              backgroundColor: \"gray.100\",\n              w: \"70%\",\n              rounded: \"2xl\",\n              alignItems: \"center\",\n              space: 4,\n              style: [{\n                padding: 40\n              }, styles.shadowProp],\n              children: [_jsx(Text, {\n                fontSize: 20,\n                bold: true,\n                textAlign: \"center\",\n                children: targetItem.item\n              }), _jsx(Image, {\n                source: {\n                  uri: \"http://192.168.100.31:3000/\" + \"static/materials/\" + targetItem.image\n                },\n                alt: \"materials image\",\n                style: [styles.shadowProp, {\n                  height: 180,\n                  width: 180,\n                  borderRadius: 10,\n                  borderWidth: 8\n                }, isRecyclable === \"Recyclable\" ? {\n                  borderColor: \"#1FAA8F\"\n                } : {\n                  borderColor: \"#dc2626\"\n                }],\n                resizeMode: \"cover\",\n                mb: \"5\"\n              }), _jsx(Button, {\n                w: \"full\",\n                bordered: true,\n                block: true,\n                style: {\n                  borderRadius: 30,\n                  backgroundColor: \"transparent\",\n                  borderColor: \"#1FAA8F\",\n                  borderWidth: 2\n                },\n                onPress: function onPress() {\n                  return setImageModalVisible(false);\n                },\n                children: _jsx(Text, {\n                  bold: true,\n                  children: \"Close\"\n                })\n              })]\n            })\n          })\n        }), _jsxs(VStack, {\n          justifyContent: \"flex-start\",\n          alignItems: \"center\",\n          px: \"3\",\n          space: 5,\n          w: \"full\",\n          h: \"full\",\n          children: [_jsx(Box, {\n            mb: \"-1\",\n            children: _jsxs(HStack, {\n              px: \"3\",\n              py: \"2\",\n              rounded: \"full\",\n              style: isRecyclable === \"Recyclable\" ? {\n                backgroundColor: \"#1FAA8F\"\n              } : {\n                backgroundColor: \"#dc2626\"\n              },\n              children: [_jsx(TouchableOpacity, {\n                onPress: function onPress() {\n                  return setIsRecyclable(\"Recyclable\");\n                },\n                children: _jsx(Box, {\n                  style: isRecyclable == \"Recyclable\" ? styles.active : styles.nonactive,\n                  width: \"32\",\n                  py: \"1\",\n                  children: _jsx(Text, {\n                    textAlign: \"center\",\n                    style: isRecyclable === \"Recyclable\" ? {\n                      color: \"black\"\n                    } : {\n                      color: \"white\"\n                    },\n                    children: \"Recyclable\"\n                  })\n                })\n              }), _jsx(TouchableOpacity, {\n                onPress: function onPress() {\n                  return setIsRecyclable(\"Non-recyclable\");\n                },\n                children: _jsx(Box, {\n                  style: isRecyclable == \"Non-recyclable\" ? styles.active : styles.nonactive,\n                  width: \"32\",\n                  py: \"1\",\n                  children: _jsx(Text, {\n                    textAlign: \"center\",\n                    style: isRecyclable === \"Non-recyclable\" ? {\n                      color: \"black\"\n                    } : {\n                      color: \"white\"\n                    },\n                    children: \"Non-recyclable\"\n                  })\n                })\n              })]\n            })\n          }), _jsx(ScrollView, {\n            w: \"full\",\n            style: {\n              maxHeight: 400\n            },\n            children: _jsx(VStack, {\n              backgroundColor: \"#000\",\n              w: \"full\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              p: \"3\",\n              space: 3,\n              borderRadius: \"12\",\n              style: isRecyclable === \"Recyclable\" ? {\n                backgroundColor: \"#1FAA8F\"\n              } : {\n                backgroundColor: \"#E1E1E1\"\n              },\n              children: data && _renderRecyclables()\n            })\n          }), _jsxs(VStack, {\n            style: styles.buttongroup,\n            w: \"full\",\n            space: 2,\n            children: [_jsx(Button, {\n              style: styles.button,\n              background: \"transparent\",\n              borderColor: \"#1FAA8F\",\n              onPress: function onPress() {\n                return setModalVisible(true);\n              },\n              children: _jsx(Text, {\n                bold: true,\n                color: \"#1FAA8F\",\n                children: \"How to recycle?\"\n              })\n            }), _jsx(Button, {\n              style: styles.button,\n              background: \"#FC8B10\",\n              borderColor: \"#FC8B10\",\n              onPress: function onPress(e) {\n                return Navigation.navigate('Explore', {\n                  category: \"General Waste\"\n                });\n              },\n              children: _jsx(Text, {\n                bold: true,\n                color: \"white\",\n                children: \"Search Collector\"\n              })\n            })]\n          })]\n        })]\n      })\n    })\n  });\n};\nexport default (function () {\n  return _jsx(NativeBaseProvider, {\n    children: _jsx(Center, {\n      flex: 1,\n      children: _jsx(EWaste, {})\n    })\n  });\n});\nvar styles = StyleSheet.create({\n  chipsItem: {\n    flexDirection: \"row\",\n    backgroundColor: '#e8e8e8',\n    borderRadius: 20,\n    padding: 8,\n    paddingHorizontal: 20,\n    marginHorizontal: 10,\n    height: 35,\n    elevation: 10\n  },\n  chipsItemActive: {\n    flexDirection: \"row\",\n    backgroundColor: '#1FAA8F',\n    borderRadius: 20,\n    padding: 8,\n    paddingHorizontal: 20,\n    marginHorizontal: 10,\n    height: 35,\n    elevation: 10\n  },\n  icon: {\n    position: \"absolute\"\n  },\n  buttongroup: {\n    position: 'absolute',\n    bottom: 0\n  },\n  button: {\n    borderRadius: 20,\n    borderWidth: 2\n  },\n  active: {\n    backgroundColor: \"white\",\n    borderRadius: 50\n  },\n  overlay: {\n    flex: 1,\n    justifyContent: 'flex-end'\n  },\n  container: {\n    shadowColor: '#171717',\n    shadowOffset: {\n      width: 0,\n      height: 0\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 8,\n    elevation: 20,\n    backgroundColor: '#E9F4F1',\n    borderTopRightRadius: 40,\n    borderTopLeftRadius: 40,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingTop: 12,\n    paddingBottom: 28\n  }\n});","map":{"version":3,"sources":["/Users/weiherr/Desktop/FYP/MyRecycle/mobile-app/screens/guide/EWasteScreen.js"],"names":["React","useEffect","useRef","useState","NativeBaseProvider","Box","Button","ScrollView","Stack","Center","Accordion","Text","Divider","List","Image","PresenceTransition","Pressable","HStack","VStack","Heading","Fab","Icon","Spinner","Skeleton","FlatList","useNavigation","AntDesign","Ionicons","Video","EWaste","Navigation","id","material","time","guide","category","recyclable","non_recyclable","conversion_rate","recyclable_media","non_recyclable_media","data","setData","setMaterial","isRecyclable","setIsRecyclable","imageModalVisible","setImageModalVisible","targetItem","setTargetItem","modalVisible","setModalVisible","isLoading","setIsLoading","error","setError","setGuide","video","status","setStatus","ac","AbortController","fetch","method","headers","then","response","json","results","catch","err","abort","_renderMaterials","map","item","index","styles","chipsItemActive","chipsItem","color","_renderRecyclables","console","log","itemArray","itemMediaArray","width","image","shadowProp","uri","height","borderRadius","_renderGuide","require","content","overlay","container","paddingHorizontal","paddingVertical","alignSelf","marginBottom","fontStyle","Linking","openURL","backgroundColor","borderColor","borderWidth","padding","active","nonactive","maxHeight","buttongroup","button","e","navigate","StyleSheet","create","flexDirection","marginHorizontal","elevation","icon","position","bottom","flex","justifyContent","shadowColor","shadowOffset","shadowOpacity","shadowRadius","borderTopRightRadius","borderTopLeftRadius","alignItems","paddingTop","paddingBottom"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,kBAAT,EAA6BC,GAA7B,EAAkCC,MAAlC,EAA0CC,UAA1C,EAAsDC,KAAtD,EAA6DC,MAA7D,EAAqEC,SAArE,EAAgFC,IAAhF,EAAsFC,OAAtF,EAA+FC,IAA/F,EAAqGC,KAArG,EAA4GC,kBAA5G,EAAgIC,SAAhI,EAA2IC,MAA3I,EAAmJC,MAAnJ,EAA2JC,OAA3J,EAAoKC,GAApK,EAAyKC,IAAzK,EAA+KC,OAA/K,EAAwLC,QAAxL,EAAkMC,QAAlM,QAAkN,aAAlN;AACA,SAASC,aAAT,QAA8B,0BAA9B;;;;;;;;AAEA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,oBAApC;AACA,SAASC,KAAT,QAAsB,SAAtB;;;;;AAIA,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AAE1B,MAAMC,UAAU,GAAGL,aAAa,EAAhC;;AAEA,kBAAwBtB,QAAQ,CAAC;AAAC4B,IAAAA,EAAE,EAAC,CAAJ;AAAOC,IAAAA,QAAQ,EAAC,EAAhB;AAAoBC,IAAAA,IAAI,EAAC,EAAzB;AAA6BC,IAAAA,KAAK,EAAC,IAAnC;AAAyCC,IAAAA,QAAQ,EAAC,EAAlD;AAAsDC,IAAAA,UAAU,EAAC,EAAjE;AAAqEC,IAAAA,cAAc,EAAC,EAApF;AAAwFC,IAAAA,eAAe,EAAC,CAAxG;AAA2GC,IAAAA,gBAAgB,EAAC,EAA5H;AAAgIC,IAAAA,oBAAoB,EAAC;AAArJ,GAAD,CAAhC;AAAA;AAAA,MAAOC,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAAgCvC,QAAQ,CAAC,EAAD,CAAxC;AAAA;AAAA,MAAO6B,QAAP;AAAA,MAAiBW,WAAjB;;AACA,mBAAwCxC,QAAQ,CAAC,YAAD,CAAhD;AAAA;AAAA,MAAOyC,YAAP;AAAA,MAAqBC,eAArB;;AACA,mBAAkD1C,QAAQ,CAAC,KAAD,CAA1D;AAAA;AAAA,MAAO2C,iBAAP;AAAA,MAA0BC,oBAA1B;;AACA,mBAAoC5C,QAAQ,CAAC,EAAD,CAA5C;AAAA;AAAA,MAAO6C,UAAP;AAAA,MAAmBC,aAAnB;;AACA,oBAAwC9C,QAAQ,CAAC,KAAD,CAAhD;AAAA;AAAA,MAAO+C,YAAP;AAAA,MAAqBC,eAArB;;AACA,oBAAkChD,QAAQ,EAA1C;AAAA;AAAA,MAAOiD,SAAP;AAAA,MAAkBC,YAAlB;;AACA,oBAA0BlD,QAAQ,EAAlC;AAAA;AAAA,MAAOmD,KAAP;AAAA,MAAcC,QAAd;;AACA,oBAA0BpD,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAO+B,KAAP;AAAA,MAAcsB,QAAd;;AAEA,MAAMC,KAAK,GAAGvD,MAAM,CAAC,IAAD,CAApB;;AACA,oBAA4BC,QAAQ,CAAC,EAAD,CAApC;AAAA;AAAA,MAAOuD,MAAP;AAAA,MAAeC,SAAf;;AAGA1D,EAAAA,SAAS,CAAC,YAAM;AAEd,QAAM2D,EAAE,GAAG,IAAIC,eAAJ,EAAX;AAEAR,IAAAA,YAAY,CAAC,IAAD,CAAZ;AAEAS,IAAAA,KAAK,CAAC,gCAAU,2BAAX,EAAwC;AAC3CC,MAAAA,MAAM,EAAE,KADmC;AAE3CC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAFkC,KAAxC,CAAL,CAMGC,IANH,CAMQ,UAAAC,QAAQ;AAAA,aAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,KANhB,EAOGF,IAPH,CAOQ,UAAAG,OAAO,EAAI;AACf1B,MAAAA,OAAO,CAAC0B,OAAO,CAAC,CAAD,CAAR,CAAP;AACAf,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KAVH,EAWGgB,KAXH,CAWS,UAAAC,GAAG,EAAI;AACZjB,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAE,MAAAA,QAAQ,CAACe,GAAD,CAAR;AACD,KAdH;AAgBE,WAAO;AAAA,aAAMV,EAAE,CAACW,KAAH,EAAN;AAAA,KAAP;AAEH,GAxBQ,EAwBN,EAxBM,CAAT;AA2BAtE,EAAAA,SAAS,CAAC,YAAM;AAEd,QAAM2D,EAAE,GAAG,IAAIC,eAAJ,EAAX;AAEAR,IAAAA,YAAY,CAAC,IAAD,CAAZ;AAEAS,IAAAA,KAAK,CAAC,gCAAU,OAAX,EAAoB;AACvBC,MAAAA,MAAM,EAAE,KADe;AAEvBC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAFc,KAApB,CAAL,CAMGC,IANH,CAMQ,UAAAC,QAAQ;AAAA,aAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,KANhB,EAOGF,IAPH,CAOQ,UAAAG,OAAO,EAAI;AACfZ,MAAAA,QAAQ,CAACY,OAAD,CAAR;AACAf,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KAVH,EAWGgB,KAXH,CAWS,UAAAC,GAAG,EAAI;AACZjB,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAE,MAAAA,QAAQ,CAACe,GAAD,CAAR;AACD,KAdH;AAgBE,WAAO;AAAA,aAAMV,EAAE,CAACW,KAAH,EAAN;AAAA,KAAP;AAEH,GAxBQ,EAwBN,EAxBM,CAAT;;AA2BF,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7B,WAAO/B,IAAI,CAACgC,GAAL,CAAS,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC/B,aACE,KAAC,gBAAD;AAAkB,QAAA,KAAK,EAAE3C,QAAQ,IAAI0C,IAAI,CAAC1C,QAAjB,GAA4B4C,MAAM,CAACC,eAAnC,GAAqDD,MAAM,CAACE,SAArF;AAAgG,QAAA,OAAO,EAAE;AAAA,iBAAInC,WAAW,CAAC+B,IAAI,CAAC1C,QAAN,CAAf;AAAA,SAAzG;AAAA,kBACE,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEA,QAAQ,IAAI0C,IAAI,CAAC1C,QAAjB,GAA4B;AAAC+C,YAAAA,KAAK,EAAC;AAAP,WAA5B,GAA8C,EAA3D;AAAA,oBAAgEL,IAAI,CAAC1C;AAArE;AADF,uBAA0J2C,KAA1J,CADF;AAKD,KANM,CAAP;AAOD,GARD;;AAUA,MAAMK,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAI/BC,IAAAA,OAAO,CAACC,GAAR,CAAYzC,IAAZ;AAEA,QAAI0C,SAAS,GAAG,EAAhB;AACA,QAAIC,cAAc,GAAG,EAArB;;AAEA,QAAGxC,YAAY,KAAK,YAApB,EAAiC;AAC/BuC,MAAAA,SAAS,GAAG1C,IAAI,CAACL,UAAjB;AACAgD,MAAAA,cAAc,GAAG3C,IAAI,CAACF,gBAAtB;AACD,KAHD,MAIK;AACH4C,MAAAA,SAAS,GAAG1C,IAAI,CAACJ,cAAjB;AACA+C,MAAAA,cAAc,GAAG3C,IAAI,CAACD,oBAAtB;AACD;;AAED,WAAO2C,SAAS,CAACV,GAAV,CAAc,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACpC,aACE,KAAC,gBAAD;AAA4C,QAAA,KAAK,EAAE;AAACU,UAAAA,KAAK,EAAC;AAAP,SAAnD;AAAmE,QAAA,OAAO,EAAE,mBAAI;AAACpC,UAAAA,aAAa,CAAC;AAACyB,YAAAA,IAAI,EAACA,IAAN;AAAWY,YAAAA,KAAK,EAACF,cAAc,CAACT,KAAD;AAA/B,WAAD,CAAb;AAAuD5B,UAAAA,oBAAoB,CAAC,IAAD,CAApB;AAA4B,SAApK;AAAA,kBACE,MAAC,MAAD;AAAQ,UAAA,eAAe,EAAC,OAAxB;AAAgC,UAAA,KAAK,EAAC,MAAtC;AAA6C,UAAA,OAAO,EAAC,IAArD;AAA0D,UAAA,CAAC,EAAC,GAA5D;AAAgE,UAAA,EAAE,EAAC,GAAnE;AAAuE,UAAA,UAAU,EAAC,QAAlF;AAA2F,UAAA,KAAK,EAAE,CAAlG;AAAqG,UAAA,KAAK,EAAE6B,MAAM,CAACW,UAAnH;AAAA,qBACE,KAAC,KAAD;AAAO,YAAA,MAAM,EAAE;AAACC,cAAAA,GAAG,wDAA+BJ,cAAc,CAACT,KAAD;AAAjD,aAAf;AAA4E,YAAA,GAAG,EAAC,iBAAhF;AAAkG,YAAA,KAAK,EAAE;AAACc,cAAAA,MAAM,EAAC,EAAR;AAAYJ,cAAAA,KAAK,EAAC,EAAlB;AAAsBK,cAAAA,YAAY,EAAC;AAAnC,aAAzG;AAAiJ,YAAA,UAAU,EAAC;AAA5J,YADF,EAEE,KAAC,IAAD;AAAM,YAAA,KAAK,EAAC,KAAZ;AAAA,sBAAmBhB;AAAnB,YAFF;AAAA;AADF,uBAAmCC,KAAnC,CADF;AAQD,KATM,CAAP;AAUD,GA5BD;;AA8BA,MAAMgB,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,WAAOzD,KAAK,CAACuC,GAAN,CAAU,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAChC,aACE,MAAC,MAAD;AAAQ,QAAA,UAAU,EAAC,QAAnB;AAA4B,QAAA,cAAc,EAAC,YAA3C;AAAwD,QAAA,KAAK,EAAC,MAA9D;AAAqE,QAAA,eAAe,EAAC,OAArF;AAA6F,QAAA,CAAC,EAAC,GAA/F;AAAmG,QAAA,OAAO,EAAC,IAA3G;AAAgH,QAAA,KAAK,EAAE,CAAvH;AAAA,mBACE,MAAC,GAAD;AAAK,UAAA,eAAe,EAAC,UAArB;AAAgC,UAAA,YAAY,EAAC,KAA7C;AAAmD,UAAA,IAAI,EAAC,IAAxD;AAA6D,UAAA,cAAc,EAAC,QAA5E;AAAqF,UAAA,UAAU,EAAC,QAAhG;AAAA,qBAEGD,IAAI,CAAC3C,EAAL,KAAY,CAAZ,IACC,KAAC,KAAD;AAAO,YAAA,MAAM,EAAE6D,OAAO,gDAAtB;AAAwE,YAAA,GAAG,EAAC,gBAA5E;AAA6F,YAAA,IAAI,EAAC;AAAlG,YAHJ,EAKGlB,IAAI,CAAC3C,EAAL,KAAY,CAAZ,IACC,KAAC,KAAD;AAAO,YAAA,MAAM,EAAE6D,OAAO,gDAAtB;AAAwE,YAAA,GAAG,EAAC,gBAA5E;AAA6F,YAAA,IAAI,EAAC;AAAlG,YANJ,EAQGlB,IAAI,CAAC3C,EAAL,KAAY,CAAZ,IACC,KAAC,KAAD;AAAO,YAAA,MAAM,EAAE6D,OAAO,gDAAtB;AAAwE,YAAA,GAAG,EAAC,gBAA5E;AAA6F,YAAA,IAAI,EAAC;AAAlG,YATJ,EAWGlB,IAAI,CAAC3C,EAAL,KAAY,CAAZ,IACC,KAAC,KAAD;AAAO,YAAA,MAAM,EAAE6D,OAAO,gDAAtB;AAAwE,YAAA,GAAG,EAAC,gBAA5E;AAA6F,YAAA,IAAI,EAAC;AAAlG,YAZJ,EAcGlB,IAAI,CAAC3C,EAAL,KAAY,CAAZ,IACC,KAAC,KAAD;AAAO,YAAA,MAAM,EAAE6D,OAAO,gDAAtB;AAAwE,YAAA,GAAG,EAAC,gBAA5E;AAA6F,YAAA,IAAI,EAAC;AAAlG,YAfJ;AAAA,UADF,EAmBE,KAAC,MAAD;AAAQ,UAAA,CAAC,EAAC,KAAV;AAAgB,UAAA,KAAK,EAAE,CAAvB;AAAA,oBACE,KAAC,IAAD;AAAM,YAAA,QAAQ,EAAC,IAAf;AAAA,sBAAqBlB,IAAI,CAACmB;AAA1B;AADF,UAnBF;AAAA,oBAAwIlB,KAAxI,CADF;AAyBD,KA1BM,CAAP;AA2BD,GA5BD;;AA+BE,SAEE,KAAC,eAAD;AAAiB,IAAA,MAAM,EAAEiB,OAAO,oCAAhC;AAAsE,IAAA,KAAK,EAAE;AAACP,MAAAA,KAAK,EAAC,MAAP;AAAeI,MAAAA,MAAM,EAAC;AAAtB,KAA7E;AAAA,cACGrC,SAAS,GACV,KAAC,MAAD;AAAQ,MAAA,CAAC,EAAC,MAAV;AAAiB,MAAA,CAAC,EAAC,MAAnB;AAAA,gBACE,KAAC,OAAD;AAAS,QAAA,IAAI,EAAC,IAAd;AAAmB,QAAA,KAAK,EAAC;AAAzB;AADF,MADU,GAKV;AAAA,gBAEA,MAAC,MAAD;AAAQ,QAAA,CAAC,EAAC,MAAV;AAAiB,QAAA,CAAC,EAAC,MAAnB;AAA0B,QAAA,CAAC,EAAC,GAA5B;AAAA,mBACI,KAAC,KAAD;AACA,UAAA,QAAQ,MADR;AAEA,UAAA,aAAa,EAAC,OAFd;AAGA,UAAA,OAAO,EAAEF,YAHT;AAIA,UAAA,WAAW,MAJX;AAKA,UAAA,cAAc,EAAE,0BAAM;AACpBC,YAAAA,eAAe,CAAC,CAACD,YAAF,CAAf;AACD,WAPD;AAAA,oBASA,KAAC,IAAD;AAAM,YAAA,KAAK,EAAE,CAAC0B,MAAM,CAACkB,OAAR,EAAgB;AAACL,cAAAA,MAAM,EAAC;AAAR,aAAhB,CAAb;AAAA,sBACA,KAAC,QAAD,CAAU,IAAV;AAAe,cAAA,KAAK,EAAE,CAACb,MAAM,CAACmB,SAAR,EAAkB;AAACN,gBAAAA,MAAM,EAAC;AAAR,eAAlB,CAAtB;AAAA,wBACE,KAAC,MAAD;AAAQ,gBAAA,KAAK,EAAE,CAAf;AAAkB,gBAAA,KAAK,EAAE;AAACJ,kBAAAA,KAAK,EAAC,MAAP;AAAeI,kBAAAA,MAAM,EAAC,MAAtB;AAA6BO,kBAAAA,iBAAiB,EAAC,EAA/C;AAAmDC,kBAAAA,eAAe,EAAC;AAAnE,iBAAzB;AAAA,0BACE,MAAC,UAAD;AAAA,6BACCxD,IAAI,CAACP,KAAL,IACC;AAAA,+BACA,KAAC,OAAD;AAAS,sBAAA,IAAI,EAAC,IAAd;AAAmB,sBAAA,SAAS,EAAC,QAA7B;AAAA;AAAA,sBADA,EAEA,KAAC,MAAD;AAAQ,sBAAA,KAAK,EAAC,IAAd;AAAmB,sBAAA,CAAC,EAAC,GAArB;AAAyB,sBAAA,EAAE,EAAC,GAA5B;AAAgC,sBAAA,KAAK,EAAE,CAAvC;AAA0C,sBAAA,eAAe,EAAC,SAA1D;AAAoE,sBAAA,OAAO,EAAC,KAA5E;AAAA,gCACE,KAAC,IAAD;AAAA,kCAAOO,IAAI,CAACP;AAAZ;AADF,sBAFA;AAAA,oBAFF,EAQE,KAAC,OAAD;AAAS,oBAAA,IAAI,EAAC,IAAd;AAAmB,oBAAA,SAAS,EAAC,QAA7B;AAAA;AAAA,oBARF,EASE,KAAC,MAAD;AAAQ,oBAAA,KAAK,EAAC,IAAd;AAAmB,oBAAA,EAAE,EAAC,GAAtB;AAA0B,oBAAA,KAAK,EAAE,CAAjC;AAAA,8BACGA,KAAK,IAAIyD,YAAY;AADxB,oBATF,EAYE,MAAC,IAAD;AAAM,oBAAA,SAAS,EAAC,QAAhB;AAAyB,oBAAA,IAAI,MAA7B;AAA8B,oBAAA,EAAE,EAAC,GAAjC;AAAA,4DAA8D,KAAC,IAAD;AAAM,sBAAA,SAAS,EAAC,QAAhB;AAAyB,sBAAA,UAAU,EAAC,KAApC;AAAA;AAAA,sBAA9D;AAAA,oBAZF,EAaE,KAAC,KAAD;AACE,oBAAA,GAAG,EAAElC,KADP;AAEE,oBAAA,KAAK,EAAE;AACLyC,sBAAAA,SAAS,EAAE,QADN;AAELb,sBAAAA,KAAK,EAAE,GAFF;AAGLI,sBAAAA,MAAM,EAAE,GAHH;AAILU,sBAAAA,YAAY,EAAE;AAJT,qBAFT;AAQE,oBAAA,MAAM,EAAEP,OAAO,4CARjB;AASE,oBAAA,iBAAiB,MATnB;AAUE,oBAAA,UAAU,EAAC,SAVb;AAWE,oBAAA,SAAS,MAXX;AAYE,oBAAA,sBAAsB,EAAE,gCAAAlC,MAAM;AAAA,6BAAIC,SAAS,CAAC;AAAA,+BAAMD,MAAN;AAAA,uBAAD,CAAb;AAAA;AAZhC,oBAbF,EA2BA,MAAC,IAAD;AAAM,oBAAA,SAAS,EAAC,QAAhB;AAAyB,oBAAA,EAAE,EAAC,GAA5B;AAAgC,oBAAA,CAAC,EAAC,IAAlC;AAAA,+DAAmE,KAAC,IAAD;AAAM,sBAAA,KAAK,EAAE;AAACqB,wBAAAA,KAAK,EAAC,MAAP;AAAeqB,wBAAAA,SAAS,EAAC;AAAzB,uBAAb;AAAiD,sBAAA,OAAO,EAAE;AAAA,+BAAMC,OAAO,CAACC,OAAR,CAAgB,2BAAhB,CAAN;AAAA,uBAA1D;AAAA;AAAA,sBAAnE;AAAA,oBA3BA,EA4BF,KAAC,MAAD;AAAQ,oBAAA,QAAQ,MAAhB;AAAiB,oBAAA,KAAK,MAAtB;AAAuB,oBAAA,KAAK,EAAE;AAACZ,sBAAAA,YAAY,EAAC,EAAd;AAAkBa,sBAAAA,eAAe,EAAC,aAAlC;AAAiDC,sBAAAA,WAAW,EAAC,SAA7D;AAAwEC,sBAAAA,WAAW,EAAC;AAApF,qBAA9B;AAAsH,oBAAA,OAAO,EAAE;AAAA,6BAAMtD,eAAe,CAAC,KAAD,CAArB;AAAA,qBAA/H;AAAA,8BACE,KAAC,IAAD;AAAM,sBAAA,IAAI,MAAV;AAAA;AAAA;AADF,oBA5BE;AAAA;AADF;AADF;AADA;AATA,UADJ,EAmDE,KAAC,KAAD;AACE,UAAA,QAAQ,MADV;AAEE,UAAA,aAAa,EAAC,MAFhB;AAGE,UAAA,OAAO,EAAEL,iBAHX;AAIE,UAAA,WAAW,MAJb;AAKE,UAAA,cAAc,EAAE,0BAAM;AACpBC,YAAAA,oBAAoB,CAAC,CAACD,iBAAF,CAApB;AACH,WAPD;AAAA,oBAQE,KAAC,MAAD;AAAQ,YAAA,CAAC,EAAC,MAAV;AAAiB,YAAA,CAAC,EAAC,MAAnB;AAA0B,YAAA,KAAK,EAAE;AAACyD,cAAAA,eAAe,EAAC;AAAjB,aAAjC;AAAA,sBACE,MAAC,MAAD;AAAQ,cAAA,eAAe,EAAC,UAAxB;AAAmC,cAAA,CAAC,EAAC,KAArC;AAA2C,cAAA,OAAO,EAAC,KAAnD;AAAyD,cAAA,UAAU,EAAC,QAApE;AAA6E,cAAA,KAAK,EAAE,CAApF;AAAuF,cAAA,KAAK,EAAE,CAAC;AAACG,gBAAAA,OAAO,EAAC;AAAT,eAAD,EAAc9B,MAAM,CAACW,UAArB,CAA9F;AAAA,yBACE,KAAC,IAAD;AAAM,gBAAA,QAAQ,EAAE,EAAhB;AAAoB,gBAAA,IAAI,MAAxB;AAAyB,gBAAA,SAAS,EAAC,QAAnC;AAAA,0BAA6CvC,UAAU,CAAC0B;AAAxD,gBADF,EAEE,KAAC,KAAD;AAAO,gBAAA,MAAM,EAAE;AAACc,kBAAAA,GAAG,wDAA+BxC,UAAU,CAACsC;AAA9C,iBAAf;AAAuE,gBAAA,GAAG,EAAC,iBAA3E;AACE,gBAAA,KAAK,EAAE,CACLV,MAAM,CAACW,UADF,EAEL;AAACE,kBAAAA,MAAM,EAAC,GAAR;AAAaJ,kBAAAA,KAAK,EAAC,GAAnB;AAAwBK,kBAAAA,YAAY,EAAC,EAArC;AAAyCe,kBAAAA,WAAW,EAAC;AAArD,iBAFK,EAGL7D,YAAY,KAAG,YAAf,GAA4B;AAAC4D,kBAAAA,WAAW,EAAC;AAAb,iBAA5B,GAAoD;AAACA,kBAAAA,WAAW,EAAC;AAAb,iBAH/C,CADT;AAME,gBAAA,UAAU,EAAC,OANb;AAMqB,gBAAA,EAAE,EAAC;AANxB,gBAFF,EAUE,KAAC,MAAD;AAAQ,gBAAA,CAAC,EAAC,MAAV;AAAiB,gBAAA,QAAQ,MAAzB;AAA0B,gBAAA,KAAK,MAA/B;AAAgC,gBAAA,KAAK,EAAE;AAACd,kBAAAA,YAAY,EAAC,EAAd;AAAkBa,kBAAAA,eAAe,EAAC,aAAlC;AAAiDC,kBAAAA,WAAW,EAAC,SAA7D;AAAwEC,kBAAAA,WAAW,EAAC;AAApF,iBAAvC;AAA+H,gBAAA,OAAO,EAAE;AAAA,yBAAM1D,oBAAoB,CAAC,KAAD,CAA1B;AAAA,iBAAxI;AAAA,0BACE,KAAC,IAAD;AAAM,kBAAA,IAAI,MAAV;AAAA;AAAA;AADF,gBAVF;AAAA;AADF;AARF,UAnDF,EA8EJ,MAAC,MAAD;AAAQ,UAAA,cAAc,EAAC,YAAvB;AAAoC,UAAA,UAAU,EAAC,QAA/C;AAAwD,UAAA,EAAE,EAAC,GAA3D;AAA+D,UAAA,KAAK,EAAE,CAAtE;AAAyE,UAAA,CAAC,EAAC,MAA3E;AAAkF,UAAA,CAAC,EAAC,MAApF;AAAA,qBACI,KAAC,GAAD;AAAK,YAAA,EAAE,EAAC,IAAR;AAAA,sBACE,MAAC,MAAD;AAAQ,cAAA,EAAE,EAAC,GAAX;AAAe,cAAA,EAAE,EAAC,GAAlB;AAAsB,cAAA,OAAO,EAAC,MAA9B;AAAqC,cAAA,KAAK,EAAEH,YAAY,KAAK,YAAjB,GAAgC;AAAC2D,gBAAAA,eAAe,EAAC;AAAjB,eAAhC,GAA8D;AAACA,gBAAAA,eAAe,EAAC;AAAjB,eAA1G;AAAA,yBACE,KAAC,gBAAD;AAAkB,gBAAA,OAAO,EAAE;AAAA,yBAAI1D,eAAe,CAAC,YAAD,CAAnB;AAAA,iBAA3B;AAAA,0BACE,KAAC,GAAD;AAAK,kBAAA,KAAK,EAAGD,YAAY,IAAE,YAAf,GAA8BgC,MAAM,CAAC+B,MAArC,GAA8C/B,MAAM,CAACgC,SAAjE;AAA4E,kBAAA,KAAK,EAAC,IAAlF;AAAuF,kBAAA,EAAE,EAAC,GAA1F;AAAA,4BACE,KAAC,IAAD;AAAM,oBAAA,SAAS,EAAC,QAAhB;AAAyB,oBAAA,KAAK,EAAEhE,YAAY,KAAK,YAAjB,GAAgC;AAACmC,sBAAAA,KAAK,EAAC;AAAP,qBAAhC,GAAkD;AAACA,sBAAAA,KAAK,EAAC;AAAP,qBAAlF;AAAA;AAAA;AADF;AADF,gBADF,EAME,KAAC,gBAAD;AAAkB,gBAAA,OAAO,EAAE;AAAA,yBAAIlC,eAAe,CAAC,gBAAD,CAAnB;AAAA,iBAA3B;AAAA,0BACE,KAAC,GAAD;AAAK,kBAAA,KAAK,EAAGD,YAAY,IAAE,gBAAf,GAAkCgC,MAAM,CAAC+B,MAAzC,GAAkD/B,MAAM,CAACgC,SAArE;AAAgF,kBAAA,KAAK,EAAC,IAAtF;AAA2F,kBAAA,EAAE,EAAC,GAA9F;AAAA,4BACE,KAAC,IAAD;AAAM,oBAAA,SAAS,EAAC,QAAhB;AAAyB,oBAAA,KAAK,EAAEhE,YAAY,KAAK,gBAAjB,GAAoC;AAACmC,sBAAAA,KAAK,EAAC;AAAP,qBAApC,GAAsD;AAACA,sBAAAA,KAAK,EAAC;AAAP,qBAAtF;AAAA;AAAA;AADF;AADF,gBANF;AAAA;AADF,YADJ,EAgBI,KAAC,UAAD;AAAY,YAAA,CAAC,EAAC,MAAd;AAAqB,YAAA,KAAK,EAAE;AAAC8B,cAAAA,SAAS,EAAC;AAAX,aAA5B;AAAA,sBACE,KAAC,MAAD;AAAQ,cAAA,eAAe,EAAC,MAAxB;AAA+B,cAAA,CAAC,EAAC,MAAjC;AAAwC,cAAA,cAAc,EAAC,QAAvD;AAAgE,cAAA,UAAU,EAAC,QAA3E;AAAoF,cAAA,CAAC,EAAC,GAAtF;AAA0F,cAAA,KAAK,EAAE,CAAjG;AAAoG,cAAA,YAAY,EAAC,IAAjH;AAAsH,cAAA,KAAK,EAAEjE,YAAY,KAAK,YAAjB,GAAgC;AAAC2D,gBAAAA,eAAe,EAAC;AAAjB,eAAhC,GAA8D;AAACA,gBAAAA,eAAe,EAAC;AAAjB,eAA3L;AAAA,wBACG9D,IAAI,IAAIuC,kBAAkB;AAD7B;AADF,YAhBJ,EAsBI,MAAC,MAAD;AAAQ,YAAA,KAAK,EAAEJ,MAAM,CAACkC,WAAtB;AAAmC,YAAA,CAAC,EAAC,MAArC;AAA4C,YAAA,KAAK,EAAE,CAAnD;AAAA,uBACE,KAAC,MAAD;AAAQ,cAAA,KAAK,EAAElC,MAAM,CAACmC,MAAtB;AAA8B,cAAA,UAAU,EAAC,aAAzC;AAAuD,cAAA,WAAW,EAAC,SAAnE;AAA6E,cAAA,OAAO,EAAE;AAAA,uBAAI5D,eAAe,CAAC,IAAD,CAAnB;AAAA,eAAtF;AAAA,wBACE,KAAC,IAAD;AAAM,gBAAA,IAAI,MAAV;AAAW,gBAAA,KAAK,EAAC,SAAjB;AAAA;AAAA;AADF,cADF,EAIE,KAAC,MAAD;AAAQ,cAAA,KAAK,EAAEyB,MAAM,CAACmC,MAAtB;AAA8B,cAAA,UAAU,EAAC,SAAzC;AAAmD,cAAA,WAAW,EAAC,SAA/D;AAAyE,cAAA,OAAO,EAAE,iBAACC,CAAD;AAAA,uBAAKlF,UAAU,CAACmF,QAAX,CAAoB,SAApB,EAA+B;AAAC9E,kBAAAA,QAAQ,EAAC;AAAV,iBAA/B,CAAL;AAAA,eAAlF;AAAA,wBACE,KAAC,IAAD;AAAM,gBAAA,IAAI,MAAV;AAAW,gBAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AADF,cAJF;AAAA,YAtBJ;AAAA,UA9EI;AAAA;AAFA;AANF,IAFF;AA2HD,CA1QM;AA6QP,gBAAe,YAAM;AACjB,SACE,KAAC,kBAAD;AAAA,cACE,KAAC,MAAD;AAAQ,MAAA,IAAI,EAAE,CAAd;AAAA,gBACE,KAAC,MAAD;AADF;AADF,IADF;AAOH,CARD;AAUA,IAAMyC,MAAM,GAAGsC,UAAU,CAACC,MAAX,CAAkB;AAC/BrC,EAAAA,SAAS,EAAE;AACTsC,IAAAA,aAAa,EAAC,KADL;AAETb,IAAAA,eAAe,EAAC,SAFP;AAGTb,IAAAA,YAAY,EAAC,EAHJ;AAITgB,IAAAA,OAAO,EAAC,CAJC;AAKTV,IAAAA,iBAAiB,EAAC,EALT;AAMTqB,IAAAA,gBAAgB,EAAC,EANR;AAOT5B,IAAAA,MAAM,EAAC,EAPE;AAQT6B,IAAAA,SAAS,EAAE;AARF,GADoB;AAW/BzC,EAAAA,eAAe,EAAE;AACfuC,IAAAA,aAAa,EAAC,KADC;AAEfb,IAAAA,eAAe,EAAC,SAFD;AAGfb,IAAAA,YAAY,EAAC,EAHE;AAIfgB,IAAAA,OAAO,EAAC,CAJO;AAKfV,IAAAA,iBAAiB,EAAC,EALH;AAMfqB,IAAAA,gBAAgB,EAAC,EANF;AAOf5B,IAAAA,MAAM,EAAC,EAPQ;AAQf6B,IAAAA,SAAS,EAAE;AARI,GAXc;AAqB/BC,EAAAA,IAAI,EAAC;AACHC,IAAAA,QAAQ,EAAE;AADP,GArB0B;AAwB/BV,EAAAA,WAAW,EAAE;AACXU,IAAAA,QAAQ,EAAE,UADC;AAEXC,IAAAA,MAAM,EAAC;AAFI,GAxBkB;AA4B/BV,EAAAA,MAAM,EAAC;AACLrB,IAAAA,YAAY,EAAC,EADR;AAELe,IAAAA,WAAW,EAAC;AAFP,GA5BwB;AAgC/BE,EAAAA,MAAM,EAAC;AACLJ,IAAAA,eAAe,EAAC,OADX;AAELb,IAAAA,YAAY,EAAC;AAFR,GAhCwB;AAoC/BI,EAAAA,OAAO,EAAE;AAEP4B,IAAAA,IAAI,EAAE,CAFC;AAGPC,IAAAA,cAAc,EAAE;AAHT,GApCsB;AAyC/B5B,EAAAA,SAAS,EAAE;AACT6B,IAAAA,WAAW,EAAE,SADJ;AAETC,IAAAA,YAAY,EAAE;AAACxC,MAAAA,KAAK,EAAE,CAAR;AAAWI,MAAAA,MAAM,EAAE;AAAnB,KAFL;AAGTqC,IAAAA,aAAa,EAAE,GAHN;AAITC,IAAAA,YAAY,EAAE,CAJL;AAKTT,IAAAA,SAAS,EAAE,EALF;AAMTf,IAAAA,eAAe,EAAE,SANR;AAOTyB,IAAAA,oBAAoB,EAAE,EAPb;AAQTC,IAAAA,mBAAmB,EAAE,EARZ;AASTN,IAAAA,cAAc,EAAE,QATP;AAUTO,IAAAA,UAAU,EAAE,QAVH;AAWTC,IAAAA,UAAU,EAAE,EAXH;AAYTC,IAAAA,aAAa,EAAE;AAZN;AAzCoB,CAAlB,CAAf","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { NativeBaseProvider, Box, Button, ScrollView, Stack, Center, Accordion, Text, Divider, List, Image, PresenceTransition, Pressable, HStack, VStack, Heading, Fab, Icon, Spinner, Skeleton, FlatList } from 'native-base';\nimport { useNavigation } from '@react-navigation/native';\nimport { StyleSheet, TouchableOpacity, Animated, View, Modal, ImageBackground, ActivityIndicator } from \"react-native\";\nimport { AntDesign, Ionicons } from \"@expo/vector-icons\"\nimport { Video } from 'expo-av';\nimport { Linking } from \"react-native\";\nimport { API_URL } from \"@env\";\n\nexport const EWaste = () => {\n  \n  const Navigation = useNavigation(); \n\n  const [data, setData] = useState({id:0, material:\"\", time:\"\", guide:null, category:\"\", recyclable:[], non_recyclable:[], conversion_rate:0, recyclable_media:[], non_recyclable_media:[]});\n  const [material, setMaterial] = useState(\"\");\n  const [isRecyclable, setIsRecyclable] = useState(\"Recyclable\");\n  const [imageModalVisible, setImageModalVisible] = useState(false);\n  const [targetItem, setTargetItem] = useState({});\n  const [modalVisible, setModalVisible] = useState(false);\n  const [isLoading, setIsLoading] = useState();\n  const [error, setError] = useState();\n  const [guide, setGuide] = useState([]);\n\n  const video = useRef(null);\n  const [status, setStatus] = useState({});\n\n  //load material content\n  useEffect(() => {\n\n    const ac = new AbortController();\n\n    setIsLoading(true);\n\n    fetch(API_URL + 'material/category/E-Waste', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then(response => response.json())\n      .then(results => {\n        setData(results[0]);\n        setIsLoading(false);\n      })\n      .catch(err => {\n        setIsLoading(false);\n        setError(err);\n      });\n\n      return () => ac.abort();\n\n  }, []);\n\n  //load recycle guide\n  useEffect(() => {\n\n    const ac = new AbortController();\n\n    setIsLoading(true);\n\n    fetch(API_URL + 'guide', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then(response => response.json())\n      .then(results => {\n        setGuide(results);\n        setIsLoading(false);\n      })\n      .catch(err => {\n        setIsLoading(false);\n        setError(err);\n      });\n\n      return () => ac.abort();\n\n  }, []);  \n\n\nconst _renderMaterials = () => {\n  return data.map((item, index) => {\n    return (\n      <TouchableOpacity style={material == item.material ? styles.chipsItemActive : styles.chipsItem} onPress={()=>setMaterial(item.material)} key={`material-${index}`}>\n        <Text style={material == item.material ? {color:\"white\"} : \"\"}>{item.material}</Text>\n      </TouchableOpacity>\n    )\n  })\n}\n\nconst _renderRecyclables = () => {\n  \n  // var target = data.find(el => el.material === material);\n\n  console.log(data);\n\n  var itemArray = [];\n  var itemMediaArray = [];\n\n  if(isRecyclable === \"Recyclable\"){\n    itemArray = data.recyclable;\n    itemMediaArray = data.recyclable_media;\n  }\n  else {\n    itemArray = data.non_recyclable;\n    itemMediaArray = data.non_recyclable_media;\n  }\n\n  return itemArray.map((item, index) => {\n    return (\n      <TouchableOpacity key={`material-${index}`} style={{width:\"100%\"}} onPress={()=>{setTargetItem({item:item,image:itemMediaArray[index]});setImageModalVisible(true);}}>\n        <HStack backgroundColor=\"white\" width=\"100%\" rounded=\"lg\" p=\"3\" px=\"5\" alignItems=\"center\" space={4} style={styles.shadowProp}>\n          <Image source={{uri:`${API_URL}static/materials/${itemMediaArray[index]}`}} alt=\"materials image\" style={{height:60, width:60, borderRadius:50}} resizeMode=\"cover\"/>\n          <Text width=\"80%\">{item}</Text>  \n        </HStack>\n      </TouchableOpacity>\n    )\n  })  \n}\n\nconst _renderGuide = () => {\n  return guide.map((item, index) => {\n    return (\n      <HStack alignItems=\"center\" justifyContent=\"flex-start\" width=\"full\" backgroundColor=\"white\" p=\"4\" rounded=\"20\" space={4} key={`guide-${index}`}>\n        <Box backgroundColor=\"gray.100\" borderRadius=\"100\" size=\"20\" justifyContent=\"center\" alignItems=\"center\">\n          {/* <Text bold>{item.id}</Text> */}\n          {item.id === 1 && \n            <Image source={require(\"../../public/assets/recycle-steps/step_1.png\")} alt=\"action-picture\" size=\"20\"/>\n          }\n          {item.id === 2 && \n            <Image source={require(\"../../public/assets/recycle-steps/step_2.png\")} alt=\"action-picture\" size=\"20\"/>\n          }\n          {item.id === 3 && \n            <Image source={require(\"../../public/assets/recycle-steps/step_3.png\")} alt=\"action-picture\" size=\"20\"/>\n          }\n          {item.id === 4 && \n            <Image source={require(\"../../public/assets/recycle-steps/step_4.png\")} alt=\"action-picture\" size=\"20\"/>\n          }\n          {item.id === 5 && \n            <Image source={require(\"../../public/assets/recycle-steps/step_5.png\")} alt=\"action-picture\" size=\"20\"/>\n          }\n        </Box>\n        <VStack w=\"4/6\" space={1}>\n          <Text fontSize=\"sm\">{item.content}</Text>  \n        </VStack>\n      </HStack>\n    )\n  })\n}\n  \n\n  return (\n\n    <ImageBackground source={require(\"../../public/assets/bg-1-100.jpg\")} style={{width:\"100%\", height:\"100%\"}}>\n      {isLoading ? \n      <Center w=\"full\" h=\"full\">\n        <Spinner size=\"lg\" color=\"emerald.500\"/>\n      </Center> \n      : \n      <>\n        {/* <Fab position=\"absolute\" right=\"2\" bottom=\"120\" size=\"sm\" icon={<Icon color=\"white\" as={<AntDesign name=\"plus\" />} size=\"sm\" />} /> */}\n      <VStack w=\"full\" h=\"full\" p=\"3\" >\n          <Modal\n          animated\n          animationType=\"slide\"\n          visible={modalVisible}\n          transparent\n          onRequestClose={() => {\n            setModalVisible(!modalVisible);\n          }}\n          >\n          <View style={[styles.overlay,{height:660}]}>\n          <Animated.View style={[styles.container,{height:660}]}>\n            <VStack space={3} style={{width:\"100%\", height:\"100%\",paddingHorizontal:32, paddingVertical:20}}>\n              <ScrollView>\n              {data.guide && \n                <>\n                <Heading size=\"md\" textAlign=\"center\">Special Note</Heading>\n                <VStack width=\"80\" p=\"5\" my=\"4\" space={3} backgroundColor=\"#ffef42\" rounded=\"2xl\">\n                  <Text>{data.guide}</Text>\n                </VStack>\n                </>}                \n                <Heading size=\"md\" textAlign=\"center\">Steps to recycle</Heading>\n                <VStack width=\"80\" py=\"5\" space={3}>\n                  {guide && _renderGuide()}\n                </VStack>\n                <Text textAlign=\"center\" bold py=\"2\">How to Recycle Correctly <Text fontStyle=\"italic\" fontWeight=\"400\">by WWF UK</Text></Text>\n                <Video\n                  ref={video}\n                  style={{\n                    alignSelf: 'center',\n                    width: 300,\n                    height: 169,\n                    marginBottom: 16\n                  }}\n                  source={require(\"../../public/assets/WWF_recycle_tips.mp4\")}\n                  useNativeControls\n                  resizeMode=\"contain\"\n                  isLooping\n                  onPlaybackStatusUpdate={status => setStatus(() => status)}\n                />          \n              <Text textAlign=\"center\" mb=\"5\" w=\"xs\">To learn more, please visit <Text style={{color:\"blue\", fontStyle:\"italic\"}} onPress={() => Linking.openURL('https://jpspn.kpkt.gov.my')}>JPSPN website</Text> for the latest information.</Text>\n            <Button bordered block style={{borderRadius:20, backgroundColor:\"transparent\", borderColor:\"#1FAA8F\", borderWidth:2}} onPress={() => setModalVisible(false)}>\n              <Text bold>Close</Text>\n            </Button>\n            </ScrollView>\n          </VStack>\n\n          </Animated.View>\n          </View>\n        </Modal>\n\n        <Modal\n          animated\n          animationType=\"fade\"\n          visible={imageModalVisible}\n          transparent\n          onRequestClose={() => {\n            setImageModalVisible(!imageModalVisible);\n        }}>\n          <Center w=\"full\" h=\"full\" style={{backgroundColor:\"rgba(0,0,0,0.4)\"}}>\n            <VStack backgroundColor=\"gray.100\" w=\"70%\" rounded=\"2xl\" alignItems=\"center\" space={4} style={[{padding:40},styles.shadowProp]}>\n              <Text fontSize={20} bold textAlign=\"center\">{targetItem.item}</Text>\n              <Image source={{uri:`${API_URL}static/materials/${targetItem.image}`}} alt=\"materials image\" \n                style={[\n                  styles.shadowProp,\n                  {height:180, width:180, borderRadius:10, borderWidth:8},\n                  isRecyclable===\"Recyclable\"?{borderColor:\"#1FAA8F\"}:{borderColor:\"#dc2626\"}\n                ]} \n                resizeMode=\"cover\" mb=\"5\"\n              />\n              <Button w=\"full\" bordered block style={{borderRadius:30, backgroundColor:\"transparent\", borderColor:\"#1FAA8F\", borderWidth:2}} onPress={() => setImageModalVisible(false)}>\n                <Text bold>Close</Text>\n              </Button>\n            </VStack>\n          </Center>\n\n        </Modal>\n\n  <VStack justifyContent=\"flex-start\" alignItems=\"center\" px=\"3\" space={5} w=\"full\" h=\"full\">\n      <Box mb=\"-1\">\n        <HStack px=\"3\" py=\"2\" rounded=\"full\" style={isRecyclable === \"Recyclable\" ? {backgroundColor:\"#1FAA8F\"} : {backgroundColor:\"#dc2626\"}} >\n          <TouchableOpacity onPress={()=>setIsRecyclable(\"Recyclable\")}>\n            <Box style={(isRecyclable==\"Recyclable\")? styles.active : styles.nonactive} width=\"32\" py=\"1\" >\n              <Text textAlign=\"center\" style={isRecyclable === \"Recyclable\" ? {color:\"black\"} : {color:\"white\"}} >Recyclable</Text>\n            </Box>\n          </TouchableOpacity>\n          <TouchableOpacity onPress={()=>setIsRecyclable(\"Non-recyclable\")}>\n            <Box style={(isRecyclable==\"Non-recyclable\")? styles.active : styles.nonactive} width=\"32\" py=\"1\">\n              <Text textAlign=\"center\" style={isRecyclable === \"Non-recyclable\" ? {color:\"black\"} : {color:\"white\"}}>Non-recyclable</Text>\n            </Box>\n          </TouchableOpacity>\n        </HStack>\n      </Box>\n\n      <ScrollView w=\"full\" style={{maxHeight:400}}>\n        <VStack backgroundColor=\"#000\" w=\"full\" justifyContent=\"center\" alignItems=\"center\" p=\"3\" space={3} borderRadius=\"12\" style={isRecyclable === \"Recyclable\" ? {backgroundColor:\"#1FAA8F\"} : {backgroundColor:\"#E1E1E1\"}} >\n          {data && _renderRecyclables()}\n        </VStack>\n      </ScrollView>\n\n      <VStack style={styles.buttongroup} w=\"full\" space={2}>\n        <Button style={styles.button} background=\"transparent\" borderColor=\"#1FAA8F\" onPress={()=>setModalVisible(true)}>\n          <Text bold color=\"#1FAA8F\">How to recycle?</Text>\n        </Button>\n        <Button style={styles.button} background=\"#FC8B10\" borderColor=\"#FC8B10\" onPress={(e)=>Navigation.navigate('Explore', {category:\"General Waste\"})}>\n          <Text bold color=\"white\">Search Collector</Text>\n        </Button>\n      </VStack>\n  </VStack>\n      </VStack>\n      </>}\n  </ImageBackground>\n  );\n};\n\n\nexport default () => {\n    return (\n      <NativeBaseProvider>\n        <Center flex={1}>\n          <EWaste/>\n        </Center>\n      </NativeBaseProvider>\n    )\n};\n\nconst styles = StyleSheet.create({\n  chipsItem: {\n    flexDirection:\"row\",\n    backgroundColor:'#e8e8e8', \n    borderRadius:20,\n    padding:8,\n    paddingHorizontal:20, \n    marginHorizontal:10,\n    height:35,\n    elevation: 10,\n  },\n  chipsItemActive: {\n    flexDirection:\"row\",\n    backgroundColor:'#1FAA8F', \n    borderRadius:20,\n    padding:8,\n    paddingHorizontal:20, \n    marginHorizontal:10,\n    height:35,\n    elevation: 10,\n  },\n  icon:{\n    position: \"absolute\",\n  },\n  buttongroup: {\n    position: 'absolute',\n    bottom:0,\n  },\n  button:{\n    borderRadius:20, \n    borderWidth:2,\n  },\n  active:{\n    backgroundColor:\"white\",\n    borderRadius:50\n  },\n  overlay: {\n    // backgroundColor: 'rgba(0,0,0,0.2)',\n    flex: 1,\n    justifyContent: 'flex-end',\n  },\n  container: {\n    shadowColor: '#171717',\n    shadowOffset: {width: 0, height: 0},\n    shadowOpacity: 0.2,\n    shadowRadius: 8,\n    elevation: 20,\n    backgroundColor: '#E9F4F1',\n    borderTopRightRadius: 40,\n    borderTopLeftRadius: 40,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingTop: 12,\n    paddingBottom: 28,\n  }\n});\n"]},"metadata":{},"sourceType":"module"}