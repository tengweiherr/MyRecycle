{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { NativeBaseProvider, Box, Button, ScrollView, Stack, Center, Accordion, Text, Divider, List, Image, PresenceTransition, Pressable, VStack, Heading, HStack, FlatList, AspectRatio, Progress, View, CheckCircleIcon, Spinner } from 'native-base';\nimport { useIsFocused, useNavigation } from '@react-navigation/native';\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { PointContext, LoadingContext } from \"../../context/context\";\nimport API_URL from \"../../API_URL\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var RewardList = function RewardList(_ref) {\n  var navigation = _ref.navigation;\n  var Navigation = useNavigation();\n\n  var _useContext = useContext(PointContext),\n      points = _useContext.points,\n      setPoints = _useContext.setPoints;\n\n  var _useContext2 = useContext(LoadingContext),\n      setIsLoading = _useContext2.setIsLoading;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      userData = _useState2[0],\n      setUserData = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      category = _useState4[0],\n      setCategory = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      data = _useState8[0],\n      setData = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      modalVisible = _useState10[0],\n      setModalVisible = _useState10[1];\n\n  var getUserData = function getUserData() {\n    var value;\n    return _regeneratorRuntime.async(function getUserData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('user'));\n\n          case 3:\n            value = _context.sent;\n\n            if (value !== null) {\n              setUserData(JSON.parse(value));\n            }\n\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  useEffect(function () {\n    getUserData();\n  }, []);\n\n  var updateUserData = function updateUserData(finalpoints) {\n    var temp;\n    return _regeneratorRuntime.async(function updateUserData$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            temp = userData;\n            temp.mr_points = parseInt(finalpoints);\n            _context2.prev = 2;\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('user', JSON.stringify(temp)));\n\n          case 5:\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](2);\n            console.log(_context2.t0);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[2, 7]], Promise);\n  };\n\n  useEffect(function () {\n    setIsLoading(true);\n    fetch(API_URL + 'batch/' + category, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (results) {\n      setData(results);\n      setIsLoading(false);\n    }).catch(function (err) {\n      setIsLoading(false);\n      setError(err);\n    });\n  }, [category]);\n\n  var redeem = function redeem(item) {\n    if (points >= item.rewards_cost) {\n      var temp = item.amount_left - 1;\n      var payload = {\n        batch_id: item.batch_id,\n        user_id: userData.id,\n        redeem_time: new Date(),\n        mr_points: points - item.rewards_cost,\n        rewards_cost: item.rewards_cost,\n        email: userData.email,\n        amount_left: parseInt(temp)\n      };\n      var finalpoints = parseInt(points - item.rewards_cost);\n      setPoints(finalpoints);\n      updateUserData(finalpoints);\n      setModalVisible(true);\n      fetch(API_URL + 'rewardredeem/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (results) {\n        console.log(results);\n      }).catch(function (err) {\n        setError(err);\n      });\n    } else {\n      alert(\"Not enough points\");\n    }\n  };\n\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return _jsx(Box, {\n      borderBottomWidth: \"1\",\n      _dark: {\n        borderColor: \"gray.600\"\n      },\n      borderColor: \"coolGray.200\",\n      py: \"2\",\n      children: _jsx(Pressable, {\n        children: _jsxs(VStack, {\n          space: 2,\n          justifyContent: \"space-between\",\n          backgroundColor: \"#E8E8E8\",\n          rounded: \"lg\",\n          children: [_jsx(Box, {\n            w: \"full\",\n            h: \"120\",\n            overflow: \"hidden\",\n            children: _jsx(AspectRatio, {\n              w: \"100%\",\n              ratio: 16 / 9,\n              children: _jsx(Image, {\n                source: {\n                  uri: \"https://www.holidify.com/images/cmsuploads/compressed/Bangalore_citycover_20190613234056.jpg\"\n                },\n                alt: \"image\"\n              })\n            })\n          }), _jsxs(VStack, {\n            px: \"3\",\n            pb: \"3\",\n            space: 3,\n            children: [_jsx(Text, {\n              fontSize: \"md\",\n              children: item.rewards_name\n            }), _jsxs(HStack, {\n              w: \"full\",\n              justifyContent: \"space-between\",\n              alignItems: \"flex-end\",\n              children: [_jsxs(VStack, {\n                space: 1,\n                children: [_jsxs(Text, {\n                  color: \"coolGray.500\",\n                  children: [item.amount_left, \" available\"]\n                }), _jsx(Box, {\n                  w: \"120\",\n                  children: _jsx(Progress, {\n                    colorScheme: \"emerald\",\n                    value: item.amount_left / item.amount_available * 100\n                  })\n                })]\n              }), _jsxs(HStack, {\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                space: 2,\n                children: [_jsxs(HStack, {\n                  space: 1,\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                  children: [_jsx(Image, {\n                    source: require(\"../../public/assets/mr-point.png\"),\n                    style: {\n                      width: 18,\n                      height: 18\n                    },\n                    alt: \"image\"\n                  }), _jsx(Text, {\n                    bold: true,\n                    children: item.rewards_cost\n                  })]\n                }), item.amount_left === 0 ? _jsx(TouchableOpacity, {\n                  children: _jsx(Center, {\n                    backgroundColor: \"#A1A1A1\",\n                    px: \"3\",\n                    py: \"1\",\n                    rounded: \"md\",\n                    borderWidth: \"1\",\n                    borderColor: \"#A1A1A1\",\n                    children: _jsx(Text, {\n                      fontSize: \"sm\",\n                      color: \"white\",\n                      bold: true,\n                      children: \"Fully Redeemed\"\n                    })\n                  })\n                }) : _jsx(TouchableOpacity, {\n                  onPress: function onPress(e) {\n                    return redeem(item);\n                  },\n                  children: _jsx(Center, {\n                    backgroundColor: \"#FC8B10\",\n                    px: \"3\",\n                    py: \"1\",\n                    rounded: \"md\",\n                    borderWidth: \"1\",\n                    borderColor: \"#FC8B10\",\n                    children: _jsx(Text, {\n                      fontSize: \"sm\",\n                      color: \"white\",\n                      bold: true,\n                      children: \"Redeem\"\n                    })\n                  })\n                })]\n              })]\n            })]\n          })]\n        })\n      })\n    });\n  };\n\n  return _jsx(Box, {\n    w: \"full\",\n    h: \"full\",\n    backgroundColor: \"#f2f2f2\",\n    children: _jsxs(ImageBackground, {\n      source: require(\"../../public/assets/bg-1-100.jpg\"),\n      style: {\n        width: \"100%\",\n        height: \"100%\"\n      },\n      children: [_jsx(Heading, {\n        fontSize: \"md\",\n        style: {\n          alignSelf: \"flex-start\"\n        },\n        pl: \"5\",\n        mt: \"5\",\n        children: \"Redeem your rewards\"\n      }), _jsx(Box, {\n        m: \"3\",\n        w: \"full\",\n        children: _jsxs(ScrollView, {\n          horizontal: true,\n          scrollEventThrottle: 1,\n          showsHorizontalScrollIndicator: false,\n          contentInset: {\n            top: 0,\n            left: 0,\n            bottom: 0,\n            right: 20\n          },\n          contentContainerStyle: {\n            paddingRight: Platform.OS === 'android' ? 20 : 0\n          },\n          children: [_jsx(TouchableOpacity, {\n            style: category == \"\" ? styles.chipsItemActive : styles.chipsItem,\n            onPress: function onPress() {\n              return setCategory(\"\");\n            },\n            children: _jsx(Text, {\n              children: \"All\"\n            })\n          }), _jsx(TouchableOpacity, {\n            style: category == \"Vouchers\" ? styles.chipsItemActive : styles.chipsItem,\n            onPress: function onPress() {\n              return setCategory(\"Vouchers\");\n            },\n            children: _jsx(Text, {\n              children: \"Vouchers\"\n            })\n          }), _jsx(TouchableOpacity, {\n            style: category == \"Grocery\" ? styles.chipsItemActive : styles.chipsItem,\n            onPress: function onPress() {\n              return setCategory(\"Grocery\");\n            },\n            children: _jsx(Text, {\n              children: \"Grocery\"\n            })\n          })]\n        })\n      }), _jsxs(VStack, {\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        p: \"5\",\n        space: 3,\n        mt: \"-5\",\n        children: [data.length > 0 ? _jsx(FlatList, {\n          data: data,\n          scrollToOverflowEnabled: false,\n          width: \"full\",\n          h: \"550\",\n          initialNumToRender: 5,\n          maxToRenderPerBatch: 10,\n          renderItem: renderItem,\n          keyExtractor: function keyExtractor(item) {\n            return parseInt(item.batch_id);\n          }\n        }) : _jsx(Center, {\n          style: {\n            height: \"90%\"\n          },\n          children: _jsx(Text, {\n            children: \"No rewards found.\"\n          })\n        }), _jsx(VStack, {\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\"\n        })]\n      }), _jsx(Modal, {\n        animationType: \"slide\",\n        transparent: true,\n        visible: modalVisible,\n        onRequestClose: function onRequestClose() {\n          setModalVisible(!modalVisible);\n        },\n        children: _jsx(Center, {\n          w: \"full\",\n          h: \"full\",\n          children: _jsxs(VStack, {\n            backgroundColor: \"#F1F1F1\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            p: \"5\",\n            w: \"3/4\",\n            rounded: \"xl\",\n            space: 5,\n            children: [_jsx(CheckCircleIcon, {\n              size: \"8\",\n              mt: \"1\",\n              color: \"#1FAA8F\",\n              mr: \"2\"\n            }), _jsx(Heading, {\n              fontSize: \"lg\",\n              children: \"Reward Redeemed!\"\n            }), _jsx(Pressable, {\n              style: [styles.button, styles.buttonClose],\n              onPress: function onPress() {\n                setModalVisible(!modalVisible);\n                Navigation.goBack();\n              },\n              children: _jsx(Text, {\n                style: styles.textStyle,\n                children: \"Close\"\n              })\n            })]\n          })\n        })\n      })]\n    })\n  });\n};\nexport default (function () {\n  return _jsx(NativeBaseProvider, {\n    children: _jsx(Center, {\n      flex: 1,\n      children: _jsx(RewardList, {})\n    })\n  });\n});\nvar styles = StyleSheet.create({\n  container: {\n    shadowColor: '#171717',\n    shadowOffset: {\n      width: 0,\n      height: 0\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 8,\n    elevation: 20,\n    backgroundColor: 'white',\n    borderRadius: 14\n  },\n  chipsItem: {\n    flexDirection: \"row\",\n    backgroundColor: 'white',\n    borderRadius: 20,\n    padding: 8,\n    paddingHorizontal: 20,\n    marginHorizontal: 10,\n    height: 35,\n    elevation: 10\n  },\n  chipsItemActive: {\n    flexDirection: \"row\",\n    backgroundColor: '#4AD1B7',\n    borderRadius: 20,\n    padding: 8,\n    paddingHorizontal: 20,\n    marginHorizontal: 10,\n    height: 35,\n    elevation: 10\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius: 4,\n    padding: 35,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  buttonClose: {\n    backgroundColor: \"#1FAA8F\",\n    padding: 10,\n    borderRadius: 4\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"sources":["/Users/weiherr/Desktop/FYP/MyRecycle/mobile-app/screens/reward/RewardList.js"],"names":["React","useContext","useEffect","useState","NativeBaseProvider","Box","Button","ScrollView","Stack","Center","Accordion","Text","Divider","List","Image","PresenceTransition","Pressable","VStack","Heading","HStack","FlatList","AspectRatio","Progress","View","CheckCircleIcon","Spinner","useIsFocused","useNavigation","TouchableOpacity","AsyncStorage","PointContext","LoadingContext","API_URL","RewardList","navigation","Navigation","points","setPoints","setIsLoading","userData","setUserData","category","setCategory","error","setError","data","setData","modalVisible","setModalVisible","getUserData","getItem","value","JSON","parse","console","log","updateUserData","finalpoints","temp","mr_points","parseInt","setItem","stringify","fetch","method","headers","then","response","json","results","catch","err","redeem","item","rewards_cost","amount_left","payload","batch_id","user_id","id","redeem_time","Date","email","body","alert","renderItem","borderColor","uri","rewards_name","amount_available","require","width","height","e","alignSelf","top","left","bottom","right","paddingRight","Platform","OS","styles","chipsItemActive","chipsItem","length","button","buttonClose","goBack","textStyle","StyleSheet","create","container","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","backgroundColor","borderRadius","flexDirection","padding","paddingHorizontal","marginHorizontal","centeredView","flex","justifyContent","alignItems","marginTop","modalView","margin","color","fontWeight","textAlign","modalText","marginBottom"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { NativeBaseProvider, Box, Button, ScrollView, Stack, Center, Accordion, Text, Divider, List, Image, PresenceTransition, Pressable, VStack, Heading, HStack, FlatList, AspectRatio, Progress, View, CheckCircleIcon, Spinner } from 'native-base';\nimport { useIsFocused, useNavigation } from '@react-navigation/native';\nimport { ImageBackground, Modal, StyleSheet } from \"react-native\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { PointContext,LoadingContext } from \"../../context/context\";\nimport API_URL from \"../../API_URL\";\n\nexport const RewardList = ({ navigation }) => {\n  \n  const Navigation = useNavigation(); \n\n  const {points, setPoints} = useContext(PointContext);\n  const {setIsLoading} = useContext(LoadingContext);\n\n  const [userData, setUserData] = useState(null);\n\n  const [category, setCategory] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [data, setData] = useState([]);\n\n  const [modalVisible, setModalVisible] = useState(false);\n\n  //get user data\n  const getUserData = async () => {\n    try {\n      const value = await AsyncStorage.getItem('user');\n      if (value !== null) {\n        // We have data!!\n        setUserData(JSON.parse(value));\n      }\n    } catch (error) {\n      // Error retrieving data\n      console.log(error);\n    }\n  }; \n\n  //get user data\n  useEffect(() => {\n    getUserData();\n  }, [])\n\n  //get user data\n  const updateUserData = async (finalpoints) => {\n    const temp = userData;\n    temp.mr_points = parseInt(finalpoints);\n    try {\n      await AsyncStorage.setItem('user', JSON.stringify(temp));\n    } catch (error) {\n      // Error retrieving data\n      console.log(error);\n    }\n  }; \n\n  //load reward data\n  useEffect(() => {\n\n    setIsLoading(true);\n\n      fetch(API_URL + 'batch/' + category, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      })\n        .then(response => response.json())\n        .then(results => {\n          setData(results);\n          setIsLoading(false);\n        })\n        .catch(err => {\n          setIsLoading(false);\n          setError(err);\n        });\n    \n  }, [category]);\n\n  //redeem reward\n  const redeem = (item) => {\n\n    //check if user point is enough\n    if(points >= item.rewards_cost){\n\n      //minus 1 on available amount\n      const temp = item.amount_left-1;\n\n      const payload = {\n        batch_id: item.batch_id,\n        user_id: userData.id,\n        redeem_time:new Date(),\n        mr_points: points - item.rewards_cost,\n        rewards_cost: item.rewards_cost,\n        email: userData.email,\n        amount_left: parseInt(temp),\n      }\n  \n      const finalpoints = parseInt(points - item.rewards_cost);\n      //update context\n      setPoints(finalpoints);\n      //update localstorage\n      updateUserData(finalpoints);\n      //show modal\n      setModalVisible(true);\n\n      fetch(API_URL + 'rewardredeem/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(payload),\n  \n      })\n        .then(response => response.json())\n        .then(results => {\n          console.log(results);\n        })\n        .catch(err => {\n          setError(err);\n        });\n  \n    }else{\n      //trigger modal to tell\n      alert(\"Not enough points\");\n    }\n  }\n\n  const renderItem = ({ item }) => (\n    <Box\n    borderBottomWidth=\"1\"\n    _dark={{\n      borderColor: \"gray.600\",\n    }}\n    borderColor=\"coolGray.200\"\n    py=\"2\"\n  >\n   <Pressable>\n    <VStack space={2} justifyContent=\"space-between\" backgroundColor=\"#E8E8E8\" rounded=\"lg\">\n      <Box w=\"full\" h=\"120\" overflow=\"hidden\">\n        <AspectRatio w=\"100%\" ratio={16 / 9} >\n          <Image source={{\n          uri: \"https://www.holidify.com/images/cmsuploads/compressed/Bangalore_citycover_20190613234056.jpg\"\n          }} alt=\"image\"/>\n      </AspectRatio>\n      </Box>\n      <VStack px=\"3\" pb=\"3\" space={3}>\n        <Text fontSize=\"md\">{item.rewards_name}</Text>\n        <HStack w=\"full\" justifyContent=\"space-between\" alignItems=\"flex-end\">\n          <VStack space={1}>\n            <Text color=\"coolGray.500\">{item.amount_left} available</Text>\n            <Box w=\"120\">\n              <Progress colorScheme=\"emerald\" value={(item.amount_left / item.amount_available)*100} />\n            </Box>\n          </VStack>\n          <HStack justifyContent=\"center\" alignItems=\"center\" space={2}>\n            <HStack space={1} justifyContent=\"center\" alignItems=\"center\">\n              <Image source={require(\"../../public/assets/mr-point.png\")} style={{width:18, height:18}} alt=\"image\"/>\n              <Text bold>{item.rewards_cost}</Text>\n            </HStack>\n            {item.amount_left === 0 ? \n            <TouchableOpacity>\n              <Center backgroundColor=\"#A1A1A1\" px=\"3\" py=\"1\" rounded=\"md\" borderWidth=\"1\" borderColor=\"#A1A1A1\">\n                <Text fontSize=\"sm\" color=\"white\" bold>Fully Redeemed</Text>\n              </Center>\n            </TouchableOpacity> \n            :\n            <TouchableOpacity onPress={(e)=>redeem(item)}>\n              <Center backgroundColor=\"#FC8B10\" px=\"3\" py=\"1\" rounded=\"md\" borderWidth=\"1\" borderColor=\"#FC8B10\">\n                <Text fontSize=\"sm\" color=\"white\" bold>Redeem</Text>\n              </Center>\n            </TouchableOpacity> \n            }\n          </HStack>\n\n        </HStack>\n      </VStack>\n    </VStack>\n    </Pressable>\n  </Box>\n  );\n\n  return (\n    <Box w=\"full\" h=\"full\" backgroundColor=\"#f2f2f2\">\n      <ImageBackground source={require(\"../../public/assets/bg-1-100.jpg\")} style={{width:\"100%\", height:\"100%\"}}>\n      <Heading fontSize=\"md\" style={{alignSelf:\"flex-start\"}} pl=\"5\" mt=\"5\">Redeem your rewards</Heading>\n      <Box m=\"3\" w=\"full\">\n        <ScrollView\n            horizontal\n            scrollEventThrottle={1}\n            showsHorizontalScrollIndicator={false}\n            contentInset={{ // iOS only\n              top:0,\n              left:0,\n              bottom:0,\n              right:20\n            }}\n            contentContainerStyle={{\n              paddingRight: Platform.OS === 'android' ? 20 : 0\n            }}\n          >\n          \n          <TouchableOpacity style={(category==\"\")? styles.chipsItemActive : styles.chipsItem} onPress={()=>setCategory(\"\")}>\n            <Text>All</Text>\n          </TouchableOpacity>\n          <TouchableOpacity style={(category==\"Vouchers\")? styles.chipsItemActive : styles.chipsItem} onPress={()=>setCategory(\"Vouchers\")}>\n            <Text>Vouchers</Text>\n          </TouchableOpacity>\n          <TouchableOpacity style={(category==\"Grocery\")? styles.chipsItemActive : styles.chipsItem} onPress={()=>setCategory(\"Grocery\")}>\n            <Text>Grocery</Text>\n          </TouchableOpacity>\n        </ScrollView>\n              \n      </Box>\n\n        <VStack justifyContent=\"flex-start\" alignItems=\"center\" p=\"5\" space={3} mt=\"-5\">\n          {data.length > 0 ? \n          <FlatList\n          data={data}\n          scrollToOverflowEnabled={false}\n          width=\"full\"\n          h=\"550\"\n          initialNumToRender={5}\n          maxToRenderPerBatch={10}\n          renderItem={renderItem}\n          keyExtractor={(item) => parseInt(item.batch_id)}\n        />\n          :\n          <Center style={{height:\"90%\"}}>\n            <Text>No rewards found.</Text>\n          </Center>\n          }\n\n          <VStack justifyContent=\"flex-start\" alignItems=\"flex-start\">\n          </VStack>\n        </VStack>      \n\n        <Modal\n        animationType=\"slide\"\n        transparent={true}\n        visible={modalVisible}\n        onRequestClose={() => {setModalVisible(!modalVisible)}}\n        >\n          <Center w=\"full\" h=\"full\">\n            <VStack backgroundColor=\"#F1F1F1\" justifyContent=\"center\" alignItems=\"center\" p=\"5\" w=\"3/4\" rounded=\"xl\" space={5}>\n              <CheckCircleIcon size=\"8\" mt=\"1\" color=\"#1FAA8F\" mr=\"2\"/>  \n              <Heading fontSize=\"lg\">Reward Redeemed!</Heading>\n              {/* <Text mt=\"-3\">MR Points balance: {point}</Text> */}\n              <Pressable\n                style={[styles.button, styles.buttonClose]}\n                onPress={() => {setModalVisible(!modalVisible);Navigation.goBack();}}\n              >\n                <Text style={styles.textStyle}>Close</Text>\n              </Pressable>\n            </VStack>\n          </Center>\n        </Modal>\n        </ImageBackground>\n      </Box>\n  );\n};\n\n\nexport default () => {\n    return (\n      <NativeBaseProvider>\n        <Center flex={1}>\n          <RewardList />\n        </Center>\n      </NativeBaseProvider>\n    )\n};\n\nconst styles = StyleSheet.create({\n  container:{\n    shadowColor: '#171717',\n    shadowOffset: {width: 0, height: 0},\n    shadowOpacity: 0.2,\n    shadowRadius: 8,\n    elevation: 20,\n    backgroundColor: 'white',\n    borderRadius:14\n  },\n  chipsItem: {\n    flexDirection:\"row\",\n    backgroundColor:'white', \n    borderRadius:20,\n    padding:8,\n    paddingHorizontal:20, \n    marginHorizontal:10,\n    height:35,\n    elevation: 10,\n  },\n  chipsItemActive: {\n    flexDirection:\"row\",\n    backgroundColor:'#4AD1B7', \n    borderRadius:20,\n    padding:8,\n    paddingHorizontal:20, \n    marginHorizontal:10,\n    height:35,\n    elevation: 10,\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius:4,\n    padding: 35,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  buttonClose: {\n    backgroundColor: \"#1FAA8F\",\n    padding: 10,\n    borderRadius: 4,\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  }\n});"]},"metadata":{},"sourceType":"module"}