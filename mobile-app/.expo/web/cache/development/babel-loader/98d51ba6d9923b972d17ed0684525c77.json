{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect, useRef, useContext } from \"react\";\nimport { Stack, Center, Heading, ScrollView, VStack, HStack, Divider, Pressable, NativeBaseProvider, Fab, Icon, Box, Text, FlatList, Input, ActivityIndicator, CheckCircleIcon, Button, Spinner } from \"native-base\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { AntDesign, Ionicons } from \"@expo/vector-icons\";\nimport API_URL from \"../../API_URL\";\nimport { LoadingContext } from \"../../context/context\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var Product = function Product() {\n  var Navigation = useNavigation();\n\n  var _useContext = useContext(LoadingContext),\n      setIsLoading = _useContext.setIsLoading;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      target = _useState6[0],\n      setTarget = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      search = _useState8[0],\n      setSearch = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      filteredData = _useState10[0],\n      setFilteredData = _useState10[1];\n\n  var windowWidth = Dimensions.get('window').width;\n  var windowHeight = Dimensions.get('window').height;\n  useEffect(function () {\n    setIsLoading(true);\n    fetch(API_URL + 'product/status/approved', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (results) {\n      setData(results);\n      setFilteredData(results);\n      setIsLoading(false);\n    }).catch(function (err) {\n      setIsLoading(false);\n      setError(err);\n    });\n  }, []);\n\n  var searchFilterFunction = function searchFilterFunction(text) {\n    if (text) {\n      var newData = data.filter(function (item) {\n        var itemData = item.productName ? item.productName.toUpperCase() : ''.toUpperCase();\n        var textData = text.toUpperCase();\n        return itemData.indexOf(textData) > -1;\n      });\n      setFilteredData(newData);\n    } else {\n      setFilteredData(data);\n    }\n  };\n\n  function handleProductNavigation(gtin) {\n    Navigation.navigate('Product Detail', {\n      gtin: gtin\n    });\n  }\n\n  ;\n  return _jsxs(Box, {\n    w: \"full\",\n    h: \"full\",\n    p: \"3\",\n    children: [_jsxs(HStack, {\n      width: \"100%\",\n      space: 5,\n      alignItems: \"center\",\n      mb: \"1\",\n      children: [_jsx(Input, {\n        placeholder: \"Search\",\n        variant: \"filled\",\n        width: \"85%\",\n        bg: \"muted.200\",\n        borderRadius: \"10\",\n        py: \"3\",\n        px: \"2\",\n        mr: \"-3\",\n        placeholderTextColor: \"gray.400\",\n        _hover: {\n          bg: 'gray.200',\n          borderWidth: 0\n        },\n        borderWidth: \"0\",\n        _web: {\n          _focus: {\n            style: {\n              boxShadow: 'none'\n            }\n          }\n        },\n        onChangeText: function onChangeText(text) {\n          return searchFilterFunction(text);\n        },\n        InputLeftElement: _jsx(Icon, {\n          ml: \"2\",\n          size: \"5\",\n          color: \"gray.500\",\n          as: _jsx(Ionicons, {\n            name: \"ios-search\"\n          })\n        })\n      }), _jsx(Button, {\n        onPress: function onPress(e) {\n          return Navigation.navigate('Scan Barcode');\n        },\n        style: {\n          borderRadius: 10\n        },\n        leftIcon: _jsx(Icon, {\n          as: AntDesign,\n          name: \"barcode\",\n          size: \"sm\"\n        })\n      })]\n    }), _jsx(FlatList, {\n      data: filteredData,\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsx(Box, {\n          borderBottomWidth: \"1\",\n          _dark: {\n            borderColor: \"gray.600\"\n          },\n          borderColor: \"coolGray.200\",\n          pl: \"4\",\n          py: \"3\",\n          w: \"full\",\n          children: _jsx(Pressable, {\n            onPress: function onPress(e) {\n              return handleProductNavigation(item.gtin);\n            },\n            children: _jsxs(VStack, {\n              space: 1,\n              children: [_jsx(Text, {\n                _dark: {\n                  color: \"warmGray.50\"\n                },\n                color: \"coolGray.800\",\n                bold: true,\n                children: item.productName\n              }), _jsxs(HStack, {\n                justifyContent: \"space-between\",\n                w: \"full\",\n                pr: \"2\",\n                children: [_jsx(Text, {\n                  color: \"coolGray.400\",\n                  _dark: {\n                    color: \"warmGray.100\"\n                  },\n                  fontSize: \"xs\",\n                  children: item.gtin\n                }), _jsx(Text, {\n                  color: \"coolGray.400\",\n                  _dark: {\n                    color: \"warmGray.100\"\n                  },\n                  fontSize: \"xs\",\n                  children: item.material\n                })]\n              })]\n            })\n          })\n        }, item.gtin);\n      },\n      keyExtractor: function keyExtractor(item) {\n        return parseInt(item.gtin);\n      }\n    })]\n  });\n};\nexport default (function () {\n  return _jsx(NativeBaseProvider, {\n    children: _jsx(Center, {\n      flex: 1,\n      children: _jsx(Product, {})\n    })\n  });\n});","map":{"version":3,"sources":["/Users/weiherr/Desktop/FYP/MyRecycle/mobile-app/screens/product/ProductListScreen.js"],"names":["React","useState","useEffect","useRef","useContext","Stack","Center","Heading","ScrollView","VStack","HStack","Divider","Pressable","NativeBaseProvider","Fab","Icon","Box","Text","FlatList","Input","ActivityIndicator","CheckCircleIcon","Button","Spinner","useNavigation","useRoute","AntDesign","Ionicons","API_URL","LoadingContext","Product","Navigation","setIsLoading","data","setData","error","setError","target","setTarget","search","setSearch","filteredData","setFilteredData","windowWidth","Dimensions","get","width","windowHeight","height","fetch","method","headers","then","response","json","results","catch","err","searchFilterFunction","text","newData","filter","item","itemData","productName","toUpperCase","textData","indexOf","handleProductNavigation","gtin","navigate","bg","borderWidth","_focus","style","boxShadow","e","borderRadius","borderColor","color","material","parseInt"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport {\n  Stack,\n  Center,\n  Heading,\n  ScrollView,\n  VStack,\n  HStack,\n  Divider,\n  Pressable,\n  NativeBaseProvider,\n  Fab,\n  Icon,\n  Box,\n  Text,\n  FlatList,\n  Input,\n  ActivityIndicator,\n  CheckCircleIcon,\n  Button,\n  Spinner\n} from \"native-base\";\nimport { StyleSheet, View, Animated, Modal, Image, Dimensions } from 'react-native';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { AntDesign, Ionicons } from \"@expo/vector-icons\"\nimport API_URL from \"../../API_URL\";\nimport { LoadingContext } from \"../../context/context\";\n\nexport const Product = () => {\n\n  const Navigation = useNavigation(); \n  const { setIsLoading } = useContext(LoadingContext);\n\n  const [data, setData] = useState([]);\n  const [error, setError] = useState(null);\n  const [target, setTarget] = useState(\"\");\n\n  const [search, setSearch] = useState('');\n  const [filteredData, setFilteredData] = useState([]);\n\n  const windowWidth = Dimensions.get('window').width;\n  const windowHeight = Dimensions.get('window').height;\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    fetch(API_URL + 'product/status/approved', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then(response => response.json())\n      .then(results => {\n        setData(results);\n        setFilteredData(results);\n        setIsLoading(false);\n      })\n      .catch(err => {\n        setIsLoading(false);\n        setError(err);\n      });\n  }, []);\n\n  // const [masterDataSource, setMasterDataSource] = useState([]);\n\n  const searchFilterFunction = (text) => {\n    // Check if searched text is not blank\n    if (text) {\n      // Inserted text is not blank\n      // Filter the masterDataSource\n      // Update FilteredData\n      const newData = data.filter(\n        function (item) {\n          const itemData = item.productName\n            ? item.productName.toUpperCase()\n            : ''.toUpperCase();\n          const textData = text.toUpperCase();\n          return itemData.indexOf(textData) > -1;\n      });\n      setFilteredData(newData);\n      // setSearch(text);\n    } else {\n      // Inserted text is blank\n      // Update FilteredData with masterDataSource\n      setFilteredData(data);\n      // setSearch(text);\n    }\n  };\n\nfunction handleProductNavigation (gtin){\n  Navigation.navigate('Product Detail', {gtin});\n};\n\n  return (\n    <Box w=\"full\" h=\"full\" p=\"3\">\n\n    <HStack width=\"100%\" space={5} alignItems=\"center\" mb=\"1\">\n      <Input\n        placeholder=\"Search\"\n        variant=\"filled\"\n        width=\"85%\"\n        bg=\"muted.200\"\n        borderRadius=\"10\"\n        py=\"3\"\n        px=\"2\"\n        mr=\"-3\"\n        placeholderTextColor=\"gray.400\"\n        _hover={{ bg: 'gray.200', borderWidth: 0 }}\n        borderWidth=\"0\"\n        _web={{\n          _focus: { style: { boxShadow: 'none' } },\n        }}\n        onChangeText={(text) => searchFilterFunction(text)}\n        // value={search}\n        InputLeftElement={\n          <Icon\n            ml=\"2\"\n            size=\"5\"\n            color=\"gray.500\"\n            as={<Ionicons name=\"ios-search\" />}\n          />\n        }\n      />\n      <Button onPress={(e)=>Navigation.navigate('Scan Barcode')} style={{borderRadius:10}} leftIcon={<Icon as={AntDesign} name=\"barcode\" size=\"sm\"/>}></Button>\n    </HStack>\n\n    <FlatList\n    data={filteredData}\n    // ListHeaderComponent={renderHeader}\n    renderItem={({ item }) => (\n      <Box\n        key={item.gtin}\n        borderBottomWidth=\"1\"\n        _dark={{\n          borderColor: \"gray.600\",\n        }}\n        borderColor=\"coolGray.200\"\n        pl=\"4\"\n        py=\"3\"\n        w=\"full\"\n      >\n       <Pressable onPress={(e)=>handleProductNavigation(item.gtin)}>\n          <VStack space={1}>\n            <Text _dark={{color: \"warmGray.50\"}} color=\"coolGray.800\" bold>\n            {item.productName}\n            </Text>\n            <HStack justifyContent=\"space-between\" w=\"full\" pr=\"2\">\n              <Text color=\"coolGray.400\" _dark={{color: \"warmGray.100\"}} fontSize=\"xs\">\n                {item.gtin}\n              </Text>\n              <Text color=\"coolGray.400\" _dark={{color: \"warmGray.100\"}} fontSize=\"xs\">\n                {item.material}\n              </Text>\n            </HStack>\n          </VStack>\n        </Pressable>\n      </Box>\n\n    )}\n    keyExtractor={(item) => parseInt(item.gtin)}\n  />\n        </Box>   \n  );\n};\n\nexport default () => {\n  return (\n    <NativeBaseProvider>\n      <Center flex={1}>\n        <Product/>\n      </Center>\n    </NativeBaseProvider>\n  )\n};\n"]},"metadata":{},"sourceType":"module"}